# 分配 / 聚集
處理特定請求所需的大量獨立處理時，此模式非常有用。

![](data:image/png;base64,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)

## 用根結點分配分配 / 聚集
解決「尷尬平行」(Embarrassingly Parallel)

### 實作 : 分散式文件搜尋

## 葉節點分片模式做分判 / 聚集

### 實作 : 分片文件搜尋系統

## 選擇正確數量的葉節點

## 結論
* 由於每個節點上的開銷成本，增加的平行性並不總能加快速度
* 由於存在拖延問題，增加平行性並不總是能加快速度
* 第99百分位的效能比其他系統更重要，因為每個使用者請求實際上變成了對服務的大量請求